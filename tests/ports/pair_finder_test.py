from src.ports.pair_finder import PairFinder


class TestPairFinder:
    
    def setup_method(self):
        self.pair_finder = PairFinder()
    
    def test_should_not_find_any_pair(self):
        result = self.pair_finder.execute([2, 3], 12)
        assert result == []
        
    def test_should_not_find_any_pair_with_more_samples(self):
        result = self.pair_finder.execute([5, 2, 6, 8, 1, 9], 12)
        assert result == []
    
    def test_should_find_one_pair(self):
        result = self.pair_finder.execute([2, 3], 5)
        assert result == [[2, 3]]

    def test_should_find_two_pairs(self):
        result = self.pair_finder.execute([4, 2, 3, 1, 5], 5)
        assert result == [[1, 4], [2, 3]]
        
    def test_should_run_a_case_with_huge_values(self):
        result = self.pair_finder.execute([9876543, -1234567, 2345678, 5432198, -7654321, 1234567, 8765432, -9876543, 6543210, -4321098, 8765432, 1234567, -7654321, 5432198, 2345678, -1234567, 9876543, 6543210, -4321098, 2345678, 5432198, 1234567, -7654321, 8765432, -9876543, -4321098, 6543210, 5432198, -7654321, 1234567, 8765432, 2345678, -9876543, 8765432, 6543210, 5432198, 2345678, 1234567, -4321098, -7654321, 9876543, 1234567, 5432198, -9876543, 2345678, -7654321, 8765432, 6543210, -4321098, 2345678, -1234567, 8765432, 5432198, 1234567, -7654321, -9876543, 6543210, 8765432, 2345678, 5432198, 1234567, -4321098, 8765432, -7654321, 2345678, 6543210, -9876543, 1234567, 5432198, -7654321, 2345678, 8765432, -4321098, 6543210, -1234567, -9876543], 4444334)
        expected_result = [[-4321098, 8765432], [-4321098, 8765432], [-4321098, 8765432], [-4321098, 8765432], [-4321098, 8765432],
         [-4321098, 8765432], [-4321098, 8765432]]
        assert result == expected_result
        
    def test_should_run_a_case_with_100_elements(self):
        result = self.pair_finder.execute(
            [64, 36, 25, 94, 83, 7, 18, 99, 3, 59, 40, 19, 87, 46, 55, 68, 1, 74, 2, 26, 45, 88, 31, 14, 95, 70, 72,
             77, 91, 6, 53, 47, 12, 38, 22, 98, 37, 57, 5, 76, 28, 89, 41, 50, 13, 69, 42, 51, 65, 17, 8, 90, 24,
             20, 16, 9, 60, 21, 86, 75, 11, 30, 54, 97, 15, 61, 66, 44, 32, 4, 78, 58, 80, 33, 56, 48, 10, 71, 35,
             29, 93, 62, 85, 96, 73, 84, 67, 23, 52, 79, 43, 27, 63, 81, 34, 92, 49], 150)
        expected_result = [[51, 99], [52, 98], [53, 97], [54, 96], [55, 95], [56, 94], [57, 93], [58, 92], [59, 91],
                           [60, 90], [61, 89], [62, 88], [63, 87], [64, 86], [65, 85], [66, 84], [67, 83], [69, 81],
                           [70, 80], [71, 79], [72, 78], [73, 77], [74, 76]]
        assert result == expected_result
